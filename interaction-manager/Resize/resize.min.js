var resize=(()=>{var a=(o,t)=>()=>(o&&(t=o(o=0)),t);var w=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports);function r(o,t,e){return Math.min(Math.max(o,t),e)}function u(){return(Math.random()+1).toString(36).substring(7)}var p=a(()=>{});var d,h,c=a(()=>{d=class{constructor(){this.actions=[],this.keyboardFunctions=[],this.gamepadFunctions=[]}init(){window._IM||(window._IM=new d)}getKeys(t){return _IM.keyboardFunctions.filter(e=>e.keys.every(i=>t.includes(i)))}getKeysIndex(t){return _IM.keyboardFunctions.findIndex(e=>e.keys.every(i=>t.includes(i)))}getGamepadAction(t){return _IM.gamepadFunctions.find(e=>e.actions.every(i=>t.includes(i)))}getGamepadActionIndex(t){return _IM.gamepadFunctions.findIndex(e=>e.actions.every(i=>t.includes(i)))}getAction(t){return _IM.actions.find(e=>e.name===t)}getActionIndex(t){return _IM.actions.findIndex(e=>e.name===t)}},h=new d});var g,n,m=a(()=>{c();g=class{register(t,e){if(h.getAction(t))return console.error(`The following action "${t}" is already registered!`);_IM.actions.push({name:t,callback:e})}remove(t){let e=h.getActionIndex(t);if(e===-1)return console.error(`${t} is not a registered action!`);_IM.actions.splice(e,1)}execute(t,e){let i=h.getAction(t);if(!i)return console.error(`${t} is not a registered action!`);i.callback(e)}},n=new g});var l,M,b=a(()=>{p();m();l=class{constructor(t){this.options=t,this.options.edgeWidth=t.edgeWidth||5,this.options.heightMin=this.options.heightMin||50,this.options.heightMax=this.options.heightMax||window.innerHeight,this.options.widthMin=this.options.widthMin||50,this.options.widthMax=this.options.widthMax||window.innerWidth,this.resizableElement=null,this.enabled=!1,this.activeEdge=null,this.edges={bottom:null,right:null,bottomRight:null};let e=u();this.heightAction=`resize-height-${e}`,this.widthAction=`resize-width-${e}`,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.init()}init(){if(!this.enabled){if(this.resizableElement=document.querySelector(this.options.element),!this.resizableElement)return console.error(`${this.options.element} is not a correct selector`);this.resizableElement.addEventListener("mousedown",this.onMouseDown),this.addEdges(),this.registerActions(),this.enabled=!0}}deinit(){!this.enabled||(this.resizableElement.removeEventListener("mousedown",this.onMouseDown),this.removeEdges(),this.removeActions(),this.enabled=!1)}onMouseDown(t){if(this.activeEdge=this.setEdge(t.target),!this.activeEdge)return;let{x:e,y:i}=this.resizableElement.getBoundingClientRect();this.elementRect={x:e,y:i},document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}onMouseMove(t){let e=t.clientX-this.elementRect.x,i=t.clientY-this.elementRect.y;switch(this.activeEdge){case"bottom":n.execute(this.heightAction,i),this.options.onHeightChange&&this.options.onHeightChange(i);break;case"right":n.execute(this.widthAction,e),this.options.onWidthChange&&this.options.onWidthChange(e);break;case"bottomRight":n.execute(this.heightAction,i),n.execute(this.widthAction,e),this.options.onWidthChange&&this.options.onWidthChange(e),this.options.onHeightChange&&this.options.onHeightChange(i);break}}onMouseUp(){this.activeEdge=null,document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}setEdge(t){return t.dataset.edge?t.dataset.edge:null}checkPosition(){let{position:t}=getComputedStyle(this.resizableElement);t==="absolute"||t==="relative"||(this.resizableElement.style.position="relative")}addEdges(){this.checkPosition();let{width:t,height:e}=this.resizableElement.getBoundingClientRect();Object.entries(this.edges).forEach(([i,s])=>{switch(s=document.createElement("DIV"),s.dataset.edge=i,s.style.position="absolute",i){case"bottom":s.style.width=`${t-this.options.edgeWidth}px`,s.style.height=`${this.options.edgeWidth}px`,s.style.bottom=`-${this.options.edgeWidth}px`;break;case"bottomRight":s.style.width=`${this.options.edgeWidth}px`,s.style.height=`${this.options.edgeWidth}px`,s.style.bottom=`-${this.options.edgeWidth}px`,s.style.right=`-${this.options.edgeWidth}px`;break;case"right":s.style.width=`${this.options.edgeWidth}px`,s.style.height=`${e-this.options.edgeWidth}px`,s.style.right=`-${this.options.edgeWidth}px`;break}this.edges[i]=s,this.resizableElement.appendChild(s)})}removeEdges(){Object.values(this.edges).forEach(t=>{this.resizableElement.removeChild(t)})}registerActions(){n.register(this.heightAction,t=>{this.resizableElement.style.height=`${r(t,this.options.heightMin,this.options.heightMax)}px`,this.edges.right.style.height=`${r(t,this.options.heightMin,this.options.heightMax)-this.options.edgeWidth}px`}),n.register(this.widthAction,t=>{this.resizableElement.style.width=`${r(t,this.options.widthMin,this.options.widthMax)}px`,this.edges.bottom.style.width=`${r(t,this.options.widthMin,this.options.widthMax)-this.options.edgeWidth}px`})}removeActions(){n.remove(this.heightAction),n.remove(this.widthAction)}},M=l});var f=w((_,x)=>{b();c();h.init();x.exports=M});return f();})();
//# sourceMappingURL=resize.min.js.map
