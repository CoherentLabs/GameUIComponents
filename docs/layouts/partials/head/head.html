<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  {{ block "head/resource-hints" . }}{{ partial "head/resource-hints.html" . }}{{ end }}
  {{ block "head/script-header" . }}{{ partial "head/script-header.html" . }}{{ end }}
  {{ block "head/stylesheet" . }}{{ partial "head/stylesheet.html" . }}{{ end }}
  {{ block "head/seo" . }}{{ partial "head/seo.html" . }}{{ end }}
  {{ block "head/favicons" . }}{{ partial "head/favicons.html" . }}{{ end }}
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-TR443T9');</script>
  <!-- End Google Tag Manager -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const searchSuggestionsWrapper = document.getElementById('suggestions');
      if (!searchSuggestionsWrapper) return;

      searchSuggestionsWrapper.addEventListener('click', (event) => {
        const target = event.target;

        for (const suggestionElement of searchSuggestionsWrapper.children) {
          if (!suggestionElement.contains(target)) continue;

          // This guards when the event is triggered on the padding area of the "search result" element.
          // The page from the result will only be loaded when clicked on the <a> or any element inside.
          if (target === suggestionElement) return;

          const suggestionTitle = suggestionElement.querySelector('.suggestion__title');

          // When there are no results for the search term.
          if (!suggestionTitle) return;
          const searchTerm = document.getElementById('search').value;

          window.dataLayer.push({
            'event': 'liveSearch',
            'searchTerm': searchTerm
          });
        }
      });
    });
  </script>
</head>