var suggestions=document.getElementById('suggestions'),search=document.getElementById('search');search!==null&&document.addEventListener('keydown',inputFocus);function inputFocus(a){a.ctrlKey&&a.key==='/'&&(a.preventDefault(),search.focus())}document.addEventListener('keydown',suggestionFocus);function suggestionFocus(c){const d=suggestions.classList.contains('d-none');if(d)return;const a=[...suggestions.querySelectorAll('a')];if(a.length===0)return;const b=a.indexOf(document.activeElement);if(c.key==='ArrowUp'){c.preventDefault();const d=b>0?b-1:0;a[d].focus()}else if(c.key==='ArrowDown'){c.preventDefault();const d=b+1<a.length?b+1:b;a[d].focus()}}const indexConfig={tokenize:'forward',cache:!0,document:{id:'id',store:['href','title','content'],index:['title','content']}};window.siteLanguage==='kor'&&(indexConfig.encode=a=>a.split(''));const index=new FlexSearch.Document(indexConfig);window.searchIndexReady=!1;function getBaseUrl(){const a='';return a.endsWith('/')?a.slice(0,-1):a}function getSearchIndexUrl(){const a=getBaseUrl(),b=window.siteLanguage?`${window.siteLanguage}/search-index.json`:`search-index.json`;return`${a}/${b}`}const getPostsJSON=async()=>{let a=await fetch(getSearchIndexUrl()),b=await a.json();b.forEach(a=>index.add(a)),window.searchIndexReady=!0,document.getElementById('search').dispatchEvent(new CustomEvent('search-index-ready'))};getPostsJSON();function getMatchIndices(f,a,c=-1){const b=[];let d,e=0;try{a=new RegExp(a,'g')}catch(a){return b}while(d=a.exec(f)){if(c>-1&&e>=c)break;b.push(d.index),e++}return b}function getFoundWordFromDescription(c,i,e){const j=20,h=70;let b='',g='',a=e-1,d=0;while(c[a]&&d<j)b+=c[a],a--,d++;b=b.split('').reverse().join(''),a=e;const f=e+i.length;for(b+='<b>';a<f;)b+=c[a],a++;for(b+='</b>',a=f,d=0;c[a]&&d<h;)g+=c[a],a++,d++;return(b+g).replace(/\t|\n/g,'')}function displayNoResultsElement(b){const a=document.createElement('div');return a.innerHTML=`No results for '<strong>${b}</strong>'`,a.classList.add('suggestion__no-results'),suggestions.appendChild(a),!1}function constructTitleSuggestions(a,b,c){for(const i of b){const d=index.get(i),h=document.createElement('div'),f=document.createElement('a');f.href=d.href,h.appendChild(f);const g=document.createElement('div');g.textContent=d.title,g.classList.add('suggestion__title'),f.appendChild(g);const e=document.createElement('div');d.href.indexOf('components')!==-1?e.innerHTML='<b>Components</b>':d.href.indexOf('examples')!==-1?e.innerHTML='<b>Examples</b>':d.href.indexOf('interaction manager')!==-1?e.innerHTML='<b>Interaction manager</b>':e.innerHTML=d.href,e.classList.add(c),f.appendChild(e),a.push(h)}}function constructContentSuggestions(b,a,c,d,e){for(const g of c){const f=index.get(g),h=getMatchIndices(f.content.toLowerCase(),a.toLowerCase(),e);for(const j of h){const i=document.createElement('div'),c=document.createElement('a');c.href=f.href,i.appendChild(c);const e=document.createElement('div');e.textContent=f.title,e.classList.add('suggestion__title'),c.appendChild(e);const g=document.createElement('div');g.innerHTML=getFoundWordFromDescription(f.content,a,j),g.classList.add(d),c.appendChild(g),b.push(i)}}}function getIndexResults(b,c){let a=[];c?a=index.search(b,{limit:c}):a=index.search(b);let d=[],e=[];for(const b of a)b.field==='title'?e=b.result:b.field==='content'&&(d=b.result);return[d,e]}function hasResultsForQuery(b,c,a){return b.length===0&&c.length===0&&a?displayNoResultsElement(a):a!==''}