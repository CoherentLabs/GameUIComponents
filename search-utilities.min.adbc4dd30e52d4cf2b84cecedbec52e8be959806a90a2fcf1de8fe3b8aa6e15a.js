var suggestions=document.getElementById('suggestions'),search=document.getElementById('search');const MAX_TITLE_SUGGESTION_ELEMENTS=5,MAX_CONTENT_SUGGESTION_ELEMENTS=8,MAX_CONTENT_SUGGESTIONS=4;search!==null&&document.addEventListener('keydown',inputFocus);function inputFocus(a){a.ctrlKey&&a.key==='/'&&(a.preventDefault(),search.focus())}document.addEventListener('keydown',suggestionFocus);function suggestionFocus(c){const d=suggestions.classList.contains('d-none');if(d)return;const a=[...suggestions.querySelectorAll('a')];if(a.length===0)return;const b=a.indexOf(document.activeElement);if(c.key==='ArrowUp'){c.preventDefault();const d=b>0?b-1:0;a[d].focus()}else if(c.key==='ArrowDown'){c.preventDefault();const d=b+1<a.length?b+1:b;a[d].focus()}}const indexConfig={tokenize:'full',cache:!0,document:{id:'id',store:['href','title','content'],index:['title','content']}};window.siteLanguage==='kor'&&(indexConfig.encode=a=>a.split(''));const index=new FlexSearch.Document(indexConfig);window.searchIndexReady=!1;function getBaseUrl(){const a='https://CoherentLabs.github.io/GameUIComponents/';return a.endsWith('/')?a.slice(0,-1):a}function getSearchIndexUrl(){const a=getBaseUrl(),b=window.siteLanguage?`${window.siteLanguage}/search-index.json`:`search-index.json`;return`${a}/${b}`}const getPostsJSON=async()=>{let a=await fetch(getSearchIndexUrl()),b=await a.json();b.forEach(a=>{a.content=a.content.replace(/\n|\t/g,''),index.add(a)}),window.searchIndexReady=!0,document.getElementById('search').dispatchEvent(new CustomEvent('search-index-ready'))};getPostsJSON();function getMatchIndices(e,f,b=-1){const a=[];let c,d=0;try{regex=f.map(a=>`(${a})`).join('|'),regex=new RegExp(`${regex}`,'g')}catch(b){return a}while(c=regex.exec(e)){if(b>-1&&d>=b)break;a.push([c.index,regex.lastIndex]),d++}return a}function highlightWord(a){let b='';a.index=a.tokenPositions[0];const c=a.tokenPositions[0]+(a.tokenPositions[1]-a.tokenPositions[0]);for(a.left+='<b>';a.index<c;)a.left+=a.description[a.index],b+=a.description[a.index],a.index++;return a.left+='</b>',a.index=c,b}function hightlightTokenInExistingDescrition(c,b){const h='<b></b>'.length,d=c.findIndex(({from:a,to:c})=>b[0]>=a&&b[1]<=c);if(d===-1)return!1;const a=c[d],i=b[1]-b[0],e=b[0]-a.from+a.matchWords*h,f=e+i;let j=a.value.slice(0,e);const g=a.value.slice(e,f),k=a.value.slice(f);return c[d]={...a,value:`${j}<b>${g}</b>${k}`,matchWords:a.matchWords+1},c[d].matchTokens.add(g.toLowerCase()),!0}function getFoundWordFromDescription(b,c){const e=10,f=30,a={left:'',right:'',index:c[0]-1,symbolsCount:0,description:b,tokenPositions:c};let d=a.index<0?0:a.index;while(b[a.index]&&a.symbolsCount<e)a.left+=b[a.index],d=a.index--,a.symbolsCount++;a.left=a.left.split('').reverse().join('');const g=highlightWord(a);for(a.symbolsCount=0;b[a.index]&&a.symbolsCount<f;)a.right+=b[a.index],a.index++,a.symbolsCount++;const h=a.index-1,i=new Set([g.toLowerCase()]);return{value:(a.left+a.right).replace(/\t|\n/g,''),from:d,to:h,matchWords:1,matchTokens:i}}function displayNoResultsElement(b){const a=document.createElement('div');return a.innerHTML=`No results for '<strong>${b}</strong>'`,a.classList.add('suggestion__no-results'),suggestions.appendChild(a),!1}function constructTitleSuggestions(a,b,c,d=!1){for(const j of b){if(d&&a.length===MAX_TITLE_SUGGESTION_ELEMENTS)break;const e=index.get(j),i=document.createElement('div'),g=document.createElement('a');g.href=e.href,i.appendChild(g);const h=document.createElement('div');h.textContent=e.title,h.classList.add('suggestion__title'),g.appendChild(h);const f=document.createElement('div');e.href.indexOf('components')!==-1?f.innerHTML='<b>Components</b>':e.href.indexOf('examples')!==-1?f.innerHTML='<b>Examples</b>':e.href.indexOf('interaction manager')!==-1?f.innerHTML='<b>Interaction manager</b>':f.innerHTML=e.href,f.classList.add(c),g.appendChild(f),a.push(i)}}function constructTitle(b){const a=document.createElement('div');return a.textContent=b,a.classList.add('suggestion__title'),a}function constructAnchor(b,c){const a=document.createElement('a');return a.href=c,a.appendChild(b),a}function constructFullSearchLengthInfo(b){if(b<=0)return null;const a=document.createElement('span');return a.style['font-size']='13px',a.style.display='inline',a.innerHTML=`[${b} more occurrence${b===1?'':'s'}]`,a}function constructDescription(c,b,d){const a=document.createElement('div');return a.innerHTML=c,b&&a.appendChild(b),a.classList.add(d),a}function compareResults(a,b,c){return a.matchTokens.size<b.matchTokens.size?1:a.matchTokens.size>b.matchTokens.size?-1:closerMatchTokens(c,a,b)}function closerMatchTokens(c,a,b){const d=Array.from(a.matchTokens),e=Array.from(b.matchTokens);for(const f of c){const a=d.indexOf(f),b=e.indexOf(f);if(a>-1&&b<0)return-1;if(b>-1&&a<0)return 1;if(a<b&&a>-1)return-1;if(a>b&&b>-1)return 1}if(a.matchTokensCount&&b.matchTokensCount){if(a.matchTokensCount<b.matchTokensCount)return 1;if(a.matchTokensCount>b.matchTokensCount)return-1}return 0}function createSuggestionsUIElements(b,a,c,d){for(const{restResultsLength:g,title:l,description:m,href:h}of b){if(d&&a.length===MAX_CONTENT_SUGGESTION_ELEMENTS)break;const i=constructFullSearchLengthInfo(g),j=constructDescription(m,i,c),k=constructTitle(l),e=constructAnchor(k,h),f=document.createElement('div');f.appendChild(e),e.appendChild(j),a.push(f)}}function constructContentSuggestions(c,a,d,e,f=!1){const b=[];for(const j of d){const e=index.get(j),g=e.content,h=getMatchIndices(g.toLowerCase(),a);let c=[];for(const a of h){if(hightlightTokenInExistingDescrition(c,a))continue;c.push(getFoundWordFromDescription(g,a))}c.sort((b,c)=>compareResults(b,c,a));const i=c.length-MAX_CONTENT_SUGGESTIONS;if(c=c.slice(0,MAX_CONTENT_SUGGESTIONS),!c.length)continue;const f=c[0].matchTokens,k=Array.from(f).join(' '),l=c.reduce((a,b)=>(Array.from(b.matchTokens).join(' ')===k&&(a+=1),a),0);b.push({title:e.title,href:e.href,restResultsLength:i,matchTokens:f,matchTokensCount:l,description:`${c.map(a=>a.value).join('...')}...`})}b.sort((b,c)=>compareResults(b,c,a)),createSuggestionsUIElements(b,c,e,f)}function getIndexResults(d,e,f=500){let a=new Set,b=new Set,c=[];for(const g of e){c=d.search(g,{limit:f});for(const d of c)d.field==='title'?d.result.forEach(a=>b.add(a)):d.field==='content'&&d.result.forEach(b=>a.add(b))}return[Array.from(a),Array.from(b)]}function hasResultsForQuery(b,c,a){return b.length===0&&c.length===0&&a?displayNoResultsElement(a):a!==''}