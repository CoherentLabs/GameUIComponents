<!--Copyright (c) Coherent Labs AD. All rights reserved. Licensed under the MIT License. See License.txt in the project root for license information. -->
<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="../coherent-gameface-components-theme.css">
<link rel="stylesheet" href="../style.css">
<style>
    .menu {
        display: flex;
        align-items: center;
        border: 1px solid #a5a3a3;
        height: 25px;
        margin-top: 10px;
        margin-bottom: 25px;
    }

    body {
        background-color: #fff;
    }

    .active {
        color: var(--default-color-blue);
    }

    .healers-menu {
        display: flex;
        height: 135px;
        margin-bottom: 25px;
    }

    .avatar-container {
        display: flex;
        flex-direction: column;
        width: 100px;
    }

    .avatar {
        margin-bottom: 5px;
        min-height: 50px;
        height: 100px;
        background-size: contain;
        background-repeat: no-repeat no-repeat;
    }

    .avatar1 {
        background-image: url(images/imgAvatar_2.png);
    }

    .avatar2 {
        background-image: url(images/imgAvatar_3.png);
    }

    .avatar3 {
        background-image: url(images/imgAvatar_4.png);
    }

    .tanks-menu {
        display: flex;
        height: 135px;
        margin-bottom: 25px;
    }

    .avatar-container {
        display: flex;
        flex-direction: column;
        width: 100px;
    }

    .avatar {
        margin-bottom: 5px;
        min-height: 50px;
        height: 100px;
        background-size: contain;
        background-repeat: no-repeat no-repeat;
    }

    .tank-avatar1 {
        background-image: url(images/avatar1.png);
    }

    .tank-avatar2 {
        background-image: url(images/avatar4.png);
    }

    .tank-avatar3 {
        background-image: url(images/avatar5.png);
    }
</style>

<body>
    <script src="../../../cohtml.js"></script>
    <script>
        const model = {
            items: [
                {
                    attributes: { to: '/', class: 'active' },
                    name: 'Home',
                    visible: true,
                },
                {
                    attributes: { to: '/start-game' },
                    name: 'Start Game', visible: true,

                },
                {
                    attributes: { to: '/heroes' }, visible: true,

                    name: 'Heroes'
                },
                {
                    attributes: { to: '/missing' }, visible: true,

                    name: 'Missing page'
                },
            ]
        };

        class Attributes {
            changeAttributes(element, value) {
                if (!value.attributes) return;
                for (const name in value.attributes) {
                    element.setAttribute(name, value.attributes[name]);
                }
            }

            init(element, value) {
                this.changeAttributes(element, value);
            }

            update(element, value) {
                this.changeAttributes(element, value);
            }
        }

        engine.registerBindingAttribute("attributes", Attributes);
        engine.createJSModel("model", model);
        engine.synchronizeModels();

        // setInterval(() => {
        //     const index = Math.floor(Math.random() * model.items.length);
        //     model.items[index].visible = !model.items[index].visible;
        //     engine.updateWholeModel(model);
        //     engine.synchronizeModels();
        // }, 1000);
    </script>
    <div class="menu">
        <gameface-route data-bind-for="iter:{{model.items}}" data-bind-if="{{iter.visible}}"
            data-bind-value="{{iter.name}}" activeClass="active" data-bind-attributes="{{iter}}" to="/">Home
        </gameface-route>
        <!-- <gameface-route activeClass="active" class="active" to="/">Home</gameface-route>
        <gameface-route activeClass="active" to="/start-game">Start Game</gameface-route>
        <gameface-route activeClass="active" to="/heroes">Heroes</gameface-route>
        <gameface-route activeClass="active" to="/missing">Missing Page</gameface-route> -->
    </div>

    <router-view></router-view>

    <script>
        window.routerHistory = 'hashHistory';
    </script>
    <script src="./bundle.js"></script>
</body>

</html>