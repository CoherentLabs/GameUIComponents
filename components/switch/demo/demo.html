<!--Copyright (c) Coherent Labs AD. All rights reserved. Licensed under the MIT License. See License.txt in the project root for license information. -->
<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="../coherent-gameface-components-theme.css">
<link rel="stylesheet" href="../style.css">

<style>
    .row {
        display: flex;
    }

    .cell {
        width: 25%;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 50px;
    }
</style>

<body>
    <script src="../../../cohtml.js"></script>
    <script>
        const model = {
            items: [
                {
                    attributes: {},
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { type: "inset" },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { type: 'text-inside' },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { checked: '' },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { type: "inset", checked: '' },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { type: "text-inside", checked: '' },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { checked: '', disabled: '' },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { type: "inset", checked: '', disabled: '' },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
                {
                    attributes: { type: "text-inside", checked: '', disabled: '' },
                    on: 'custom on',
                    off: 'custom off',
                    visible: true,
                },
            ]
        };

        class Attributes {
            changeAttributes(element, value) {
                if (!value.attributes) return;
                for (const name in value.attributes) {
                    element.setAttribute(name, value.attributes[name]);
                }
            }

            init(element, value) {
                this.changeAttributes(element, value);
            }

            update(element, value) {
                this.changeAttributes(element, value);
            }
        }

        engine.registerBindingAttribute("attributes", Attributes);
        engine.createJSModel("model", model);
        engine.synchronizeModels();

        // setInterval(() => {
        //     const index = Math.floor(Math.random() * model.items.length);
        //     model.items[index].visible = !model.items[index].visible;
        //     engine.updateWholeModel(model);
        //     engine.synchronizeModels();
        // }, 1000);
    </script>
    <gameface-switch data-bind-for="iter:{{model.items}}" data-bind-attributes="{{iter}}"
        data-bind-if="{{iter.visible}}">
        <component-slot data-name="switch-unchecked"><span data-bind-value="{{iter.off}}">Off</span></component-slot>
        <component-slot data-name="switch-checked"><span data-bind-value="{{iter.on}}">On</span></component-slot>
    </gameface-switch>
    <!-- <div class="row">
        <div class="cell"></div>
        <div class="cell">type="default"</div>
        <div class="cell">type="inset"</div>
        <div class="cell">type="text-inside"</div>
    </div>
    <div class="row">
        <div class="cell">Unchecked</div>
        <div class="cell">
            <gameface-switch>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="inset">
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="text-inside">
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
    </div>
    <div class="row">
        <div class="cell">Checked</div>
        <div class="cell">
            <gameface-switch checked>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="inset" checked>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="text-inside" checked>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
    </div>
    <div class="row">
        <div class="cell">Unchecked disabled</div>
        <div class="cell">
            <gameface-switch disabled>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="inset" disabled>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="text-inside" disabled>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
    </div>
    <div class="row">
        <div class="cell">Checked disabled</div>
        <div class="cell">
            <gameface-switch disabled checked>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="inset" disabled checked>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
        <div class="cell">
            <gameface-switch type="text-inside" disabled checked>
                <component-slot data-name="switch-unchecked">Off</component-slot>
                <component-slot data-name="switch-checked">On</component-slot>
            </gameface-switch>
        </div>
    </div> -->

    <script src="./bundle.js"></script>
</body>

</html>