<!--Copyright (c) Coherent Labs AD. All rights reserved. Licensed under the MIT License. See License.txt in the project root for license information. -->
<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="../coherent-gameface-components-theme.css">
    <link rel="stylesheet" href="../menus/menu.css">
    <link rel="stylesheet" href="../menus/bottom/bottom.css">
    <link rel="stylesheet" href="../menus/left/left.css">
    <link rel="stylesheet" href="../menus/right/right.css">
    <style>
        body {
            background-color: grey;
            width: 100%;
            height: 100%;
            margin: 0px;
            padding: 0px;
        }

        .left-menu,
        .right-menu {
            top: 20vh;
        }
    </style>
</head>

<body>
    <script src="../../../cohtml.js"></script>
    <script>
        const model = {
            menus: [
                {
                    items: [{ content: 'Start Game' }, {
                        innerHTML: `
                    <menu-item slot="menu-item">
            Settings
            <gameface-left-menu>
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">
                    Keyboard
                    <gameface-left-menu>
                        <menu-item slot="menu-item">Graphics</menu-item>
                        <menu-item slot="menu-item">Keyboard</menu-item>
                        <menu-item slot="menu-item">
                            Mouse
                            <gameface-left-menu>
                                <menu-item slot="menu-item">Graphics</menu-item>
                                <menu-item slot="menu-item">Keyboard</menu-item>
                                <menu-item slot="menu-item">Mouse</menu-item>
                            </gameface-left-menu>
                        </menu-item>
                    </gameface-left-menu>
                </menu-item>
                <menu-item slot="menu-item">
                    Mouse
                </menu-item>
            </gameface-left-menu>
        </menu-item>
                    `},
                    {
                        content: 'Hero Gallery', attributes: { disabled: '' }
                    },
                    { content: 'Credits' }],
                    visible: true
                },
                {
                    items: [{ content: 'Start Game' }, {
                        innerHTML: `
                    <menu-item slot="menu-item">
            Settings
            <gameface-left-menu>
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">
                    Keyboard
                    <gameface-left-menu>
                        <menu-item slot="menu-item">Graphics</menu-item>
                        <menu-item slot="menu-item">Keyboard</menu-item>
                        <menu-item slot="menu-item">
                            Mouse
                            <gameface-left-menu>
                                <menu-item slot="menu-item">Graphics</menu-item>
                                <menu-item slot="menu-item">Keyboard</menu-item>
                                <menu-item slot="menu-item">Mouse</menu-item>
                            </gameface-left-menu>
                        </menu-item>
                    </gameface-left-menu>
                </menu-item>
                <menu-item slot="menu-item">
                    Mouse
                </menu-item>
            </gameface-left-menu>
        </menu-item>
                    `},
                    {
                        content: 'Hero Gallery', attributes: { disabled: '' }
                    },
                    { content: 'Credits' }],
                    visible: false
                },
                {
                    visible: true
                },
            ]
        };

        class Attributes {
            changeAttributes(element, value) {
                console.log('update attributes')
                if (!value.attributes) return;
                for (const name in value.attributes) {
                    element.setAttribute(name, value.attributes[name]);
                }
            }

            init(element, value) {
                this.changeAttributes(element, value);
            }

            update(element, value) {
                this.changeAttributes(element, value);
            }
        }

        engine.registerBindingAttribute("attributes", Attributes);
        engine.createJSModel("model", model);
        engine.synchronizeModels();

        setInterval(() => {
            model.menus[2].visible = !model.menus[2].visible;
            engine.updateWholeModel(model);
            engine.synchronizeModels();
        }, 5000);
    </script>
    <!-- <gameface-menu orientation="horizontal" data-bind-for="menu:{{model.menus}}">
        <menu-item slot="menu-item">Start Game</menu-item>
        <menu-item slot="menu-item">
            Settings
            <gameface-left-menu>
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">
                    Keyboard
                    <gameface-left-menu>
                        <menu-item slot="menu-item">Graphics</menu-item>
                        <menu-item slot="menu-item">Keyboard</menu-item>
                        <menu-item slot="menu-item">
                            Mouse
                            <gameface-left-menu>
                                <menu-item slot="menu-item">Graphics</menu-item>
                                <menu-item slot="menu-item">Keyboard</menu-item>
                                <menu-item slot="menu-item">Mouse</menu-item>
                            </gameface-left-menu>
                        </menu-item>
                    </gameface-left-menu>
                </menu-item>
                <menu-item slot="menu-item">
                    Mouse
                </menu-item>
            </gameface-left-menu>
        </menu-item>
        <menu-item slot="menu-item" disabled>Hero Gallery</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
    </gameface-menu> -->

    <!-- <gameface-menu orientation="horizontal" data-bind-for="menu:{{model.menus}}" data-bind-if="{{menu.visible}}">
        <menu-item slot="menu-item" data-bind-for="iter:{{menu.items}}"
            data-bind-if="!!{{iter.content}} && !{{iter.innerHTML}}" data-bind-value="{{iter.content}}"
            data-bind-attributes="{{iter}}">Start
            Game</menu-item>
        <menu-item slot="menu-item" data-bind-for="iter:{{menu.items}}"
            data-bind-if="!!{{iter.innerHTML}} && !{{iter.content}}" data-bind-html="{{iter.innerHTML}}"
            data-bind-attributes="{{iter}}">Start
            Game</menu-item>
    </gameface-menu> -->

    <!-- <gameface-menu orientation="horizontal" data-bind-if="{{model.menus[2].visible}}">
        <menu-item slot="menu-item">Start Game</menu-item>
        <menu-item slot="menu-item">
            Settings
            <gameface-left-menu>
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">
                    Keyboard
                    <gameface-left-menu>
                        <menu-item slot="menu-item">Graphics</menu-item>
                        <menu-item slot="menu-item">Keyboard</menu-item>
                        <menu-item slot="menu-item">
                            Mouse
                            <gameface-left-menu>
                                <menu-item slot="menu-item">Graphics</menu-item>
                                <menu-item slot="menu-item">Keyboard</menu-item>
                                <menu-item slot="menu-item">Mouse</menu-item>
                            </gameface-left-menu>
                        </menu-item>
                    </gameface-left-menu>
                </menu-item>
                <menu-item slot="menu-item">
                    Mouse
                </menu-item>
            </gameface-left-menu>
        </menu-item>
        <menu-item slot="menu-item" data-bind-attributes="{{model.menus[1].items[2]}}">Hero Gallery</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
    </gameface-menu> -->
    <gameface-menu orientation="horizontal" >
        <menu-item slot="menu-item">Start Game</menu-item>
        <menu-item slot="menu-item">
            Settings
            <gameface-left-menu>
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">
                    Keyboard
                    <gameface-left-menu>
                        <menu-item slot="menu-item">Graphics</menu-item>
                        <menu-item slot="menu-item">Keyboard</menu-item>
                        <menu-item slot="menu-item">
                            Mouse
                            <gameface-left-menu>
                                <menu-item slot="menu-item">Graphics</menu-item>
                                <menu-item slot="menu-item">Keyboard</menu-item>
                                <menu-item slot="menu-item">Mouse</menu-item>
                            </gameface-left-menu>
                        </menu-item>
                    </gameface-left-menu>
                </menu-item>
                <menu-item slot="menu-item">
                    Mouse
                </menu-item>
            </gameface-left-menu>
        </menu-item>
        <menu-item slot="menu-item" data-bind-attributes="{{model.menus[1].items[2]}}">Hero Gallery</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
    </gameface-menu>

    <!-- <gameface-menu orientation="horizontal">
        <menu-item slot="menu-item">Start Game</menu-item>
        <menu-item slot="menu-item">
            Settings
            <gameface-left-menu>
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">
                    Keyboard
                    <gameface-left-menu>
                        <menu-item slot="menu-item">Graphics</menu-item>
                        <menu-item slot="menu-item">Keyboard</menu-item>
                        <menu-item slot="menu-item">
                            Mouse
                            <gameface-left-menu>
                                <menu-item slot="menu-item">Graphics</menu-item>
                                <menu-item slot="menu-item">Keyboard</menu-item>
                                <menu-item slot="menu-item">Mouse</menu-item>
                            </gameface-left-menu>
                        </menu-item>
                    </gameface-left-menu>
                </menu-item>
                <menu-item slot="menu-item">
                    Mouse
                </menu-item>
            </gameface-left-menu>
        </menu-item>
        <menu-item slot="menu-item" disabled>Hero Gallery</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
    </gameface-menu>


    <gameface-left-menu class="left-menu">
        <menu-item slot="menu-item">
            Settings
            <gameface-left-menu class="nested-menu-left-settings" orientation="vertical">
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">Keyboard</menu-item>
                <menu-item slot="menu-item">Mouse</menu-item>
            </gameface-left-menu>
        </menu-item>
    </gameface-left-menu>

    <gameface-bottom-menu>
        <menu-item slot="menu-item">About
            <gameface-left-menu class="nested-menu-settings-bottom" orientation="vertical">
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">Keyboard</menu-item>
                <menu-item slot="menu-item">Mouse</menu-item>
            </gameface-left-menu>
        </menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
    </gameface-bottom-menu>

    <gameface-right-menu class="right-menu">
        <menu-item slot="menu-item">About
            <gameface-right-menu class="nested-menu-settings-right" orientation="vertical">
                <menu-item slot="menu-item">Graphics</menu-item>
                <menu-item slot="menu-item">Keyboard</menu-item>
                <menu-item slot="menu-item">Mouse</menu-item>
            </gameface-right-menu>
        </menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
        <menu-item slot="menu-item">Credits</menu-item>
    </gameface-right-menu> -->

    <script src="./bundle.js"></script>
</body>

</html>